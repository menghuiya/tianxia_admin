/* 
	åœ¨å¼€å‘æ—¶ï¼Œå¦‚æ— å¿…è¦ï¼Œè¯·ä¸è¦ç›´æ¥é­”æ”¹æ¨¡æ¿çš„ä»£ç ï¼Œä»¥å…åœ¨è¿è¡Œæ—¶å‡ºç°æ„å¤–bug
	è¿™æ˜¯æ¨¡æ¿ä¸ºä½ é¢„ç•™ä¸€ä¸ªæ–‡ä»¶ï¼Œç”¨æ¥å¯¹æ¥ä½ çš„ä¸šåŠ¡é€»è¾‘ 
 */

// import Vue from 'vue';
export default function(sa_admin, sa) {
  // ================================= ç¤ºä¾‹ï¼šæ¨¡æ¿åŸºç¡€ä¿¡æ¯  =================================
  sa_admin.title = 'ç”œè™¾ğŸ¦åå°ç®¡ç†';
  // sa_admin.logo_url = 'å›¾ç‰‡åœ°å€';    // è®¾ç½®logoå›¾æ ‡åœ°å€   é»˜è®¤å€¼ç©º, ä»£è¡¨ä½¿ç”¨ï¼š./admin-logo.png
  // sa_admin.icon_url = 'å›¾ç‰‡åœ°å€';    // è®¾ç½®iconå›¾æ ‡åœ°å€   é»˜è®¤å€¼ç©º, ä»£è¡¨ä½¿ç”¨ï¼š./favicon.ico

  // ================================= ç¤ºä¾‹ï¼šåˆå§‹åŒ–èœå•  =================================
  sa_admin.initMenu(); // åˆå§‹åŒ–èœå•, ä¸ä¼ å‚ä»£è¡¨é»˜è®¤æ˜¾ç¤ºæ‰€æœ‰èœå• èœå•åœ¨ ./sa-menu-list.js é‡Œ,
  // sa_admin.initMenu(['1', '1-1', '1-2', '4']); 	// ä¼ å…¥ä¸€ä¸ªidæ•°ç»„, æ˜¾ç¤ºæŒ‡å®šèœå•

  // ================================= ç¤ºä¾‹ï¼šè®¾ç½®å¤´åƒæ˜µç§°  =================================
  //
  sa_admin.$nextTick(function() {
    sa_admin.user = {
      username: this.$store.state.userName, // æ˜µç§°
      avatar: document.querySelector('.admin-logo').src, // å¤´åƒåœ°å€
    };
  });

  // ================================= ç¤ºä¾‹ï¼šjsæ“ä½œèœå•  =================================

  // sa_admin.showHome();            // æ˜¾ç¤ºä¸»é¡µé€‰é¡¹å¡
  // sa_admin.showTabById('home');    // æ˜¾ç¤ºä¸€ä¸ªé€‰é¡¹å¡, æ ¹æ®id
  // sa_admin.closeTabById('5-1');    // å…³é—­ä¸€ä¸ªé€‰é¡¹å¡ï¼Œæ ¹æ® id ï¼ˆ ç¬¬äºŒä¸ªå‚æ•°å¯å¡«å…³é—­åçš„å›è°ƒå‡½æ•° ï¼‰
  // sa_admin.showMenuById('5-2');    // æ‰“å¼€ä¸€ä¸ª èœå•ï¼Œæ ¹æ® id

  // è·¨çª—å£é€šä¿¡
  // sa_admin.getView('5-2').f5();// è·å–æŒ‡å®šè§†å›¾çš„ç»„ä»¶å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å…¶f5()å‡½æ•°ï¼Œä¸€èˆ¬ç”¨äºè·¨çª—å£é€šä¿¡

  // ä»¥ä¸‹å†™æ³•ï¼Œè°ƒç”¨tabæ‰“å¼€æ–°çª—å£
  // var tab = {id: '5-1', name: 'ç”¨æˆ·æ·»åŠ ', view: () => import('@/sa-view/user/user-add.vue'), params: {username: 'ç‹é“æ±‰2'} };
  // sa_admin.showTab(tab);

  // ================================= ç¤ºä¾‹ï¼šè®¾ç½®ç™»å½•åçš„å¤´åƒå¤„ï¼Œä¸‹æ‹‰å¯ä»¥å‡ºç°çš„é€‰é¡¹  =================================
  sa_admin.dropList = [
    // å¤´åƒç‚¹å‡»å¤„å¯æ“ä½œçš„é€‰é¡¹
    {
      name: 'æˆ‘çš„èµ„æ–™',
      click: function() {
        sa_admin.$message('ç‚¹å‡»äº†æˆ‘çš„èµ„æ–™ï¼Œä½ å¯ä»¥å‚ç…§æ–‡æ¡£é‡å†™æ­¤å‡½æ•°');
      },
    },
    {
      name: 'åˆ‡æ¢è´¦å·',
      click: function() {
        sa_admin.openLogin(); // æ‰“å¼€ç™»é™†è§†å›¾
      },
    },
    {
      name: 'é€€å‡ºç™»å½•',
      click: function() {
        // sa_admin.$message('ç‚¹å‡»äº†é€€å‡ºç™»å½•ï¼Œä½ å¯ä»¥å‚ç…§æ–‡æ¡£é‡å†™æ­¤å‡½æ•°');
        sa.confirm('é€€å‡ºç™»å½•ï¼Ÿ', function() {
          sa.ajax2(
            '/acc/exit',
            function() {
              sa.alert('æ³¨é”€æˆåŠŸ', function() {
                sa_admin.openLogin();
              });
            },
            { msg: 'æ­£åœ¨æ³¨é”€' }
          );
        });
      },
    },
  ];

  // åˆå§‹åŒ–æ¨¡æ¿, å¿…é¡»è°ƒç”¨
  sa_admin.init();
  // æˆ–è€…è¿™æ ·:
  // sa_admin.init({
  // 	is_show_tabbar: false,	// å…³é—­tabbaræ , å–è€Œæ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªé¢åŒ…å±‘å¯¼èˆªæ 
  //  is_reme_open: false		// æ˜¯å¦è®°ä½ä¸Šä¸€æ¬¡æœ€åæ‰“å¼€çš„çª—å£, é»˜è®¤ä¸ºtrue, é…ç½®ä¸ºfalseå, æ¯æ¬¡åˆ·æ–°ä¸å†è‡ªåŠ¨æ‰“å¼€ä¸Šä¸€æ¬¡æœ€åæ‰“å¼€çš„çª—å£(ä¹Ÿä¸å†æœ‰é”šé“¾æ¥æ™ºèƒ½tabè°ƒå‡†)
  // });

  // ================================= å…³äºé‰´æƒ  =================================
  // sa_adminå†…éƒ¨å°è£…äº†é‰´æƒåŠŸèƒ½, å¯ä»¥å‚è€ƒä»¥ä¸‹api

  // var arr = ['1', '2', '3', 'a', 'b', 'c'];        // ä¸€èˆ¬ç”±åç«¯æä¾›æ¥å£è¿”å›å½“å‰ä¼šè¯æ‰€å…·æœ‰çš„æƒé™ç é›†åˆ
  // sa.setAuth(arr);            // è®¾ç½®å½“å‰è´¦å·å…·æœ‰çš„æƒé™ç é›†åˆ

  // sa.checkAuth('a');		// é‰´æƒä¼šé€šè¿‡
  // sa.checkAuth('y');		// é‰´æƒä¼šå¤±è´¥, å¼¹çª—æç¤ºæ— æƒé™

  // sa.clearAuth();        // åœ¨æ³¨é”€ç™»å½•æ—¶, å¯ä»¥æ¸…é™¤å½“å‰ä¼šè¯æ‰€æœ‰æƒé™ç 

  // // å…·æœ‰æŒ‡å®šæƒé™æ‰èƒ½æ˜¾ç¤ºæŸä¸ªæŒ‰é’®,  ç¤ºä¾‹:
  // <button v-if="sa.isAuth('a')">åˆ é™¤</button>
}
